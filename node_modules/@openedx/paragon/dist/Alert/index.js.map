{"version":3,"file":"index.js","names":["React","useCallback","useEffect","useState","PropTypes","classNames","BaseAlert","divWithClassName","FormattedMessage","useMediaQuery","Icon","breakpoints","Button","ActionRow","ALERT_CLOSE_LABEL_TEXT","Alert","forwardRef","_ref","ref","children","icon","actions","dismissible","onClose","closeLabel","stacked","props","_objectWithoutProperties","_excluded","_useState","_useState2","_slicedToArray","isStacked","setIsStacked","isExtraSmall","maxWidth","extraSmall","actionButtonSize","cloneActionElement","Action","addtlActionProps","size","key","cloneElement","createElement","_extends","className","src","length","Spacer","variant","onClick","id","defaultMessage","description","map","DivStyledAsH4","displayName","AlertHeading","Heading","AlertLink","Link","commonPropTypes","as","elementType","bsPrefix","string","propTypes","defaultProps","_objectSpread","oneOf","transition","oneOfType","bool","shape","appear","node","onEnter","func","onEntered","onEntering","onExit","onExited","onExiting","show","arrayOf","element","undefined"],"sources":["../../src/Alert/index.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport BaseAlert from 'react-bootstrap/Alert';\nimport divWithClassName from 'react-bootstrap/divWithClassName';\nimport { FormattedMessage } from 'react-intl';\nimport { useMediaQuery } from 'react-responsive';\nimport Icon from '../Icon';\nimport breakpoints from '../utils/breakpoints';\nimport Button from '../Button';\nimport ActionRow from '../ActionRow';\n\nexport const ALERT_CLOSE_LABEL_TEXT = 'Dismiss';\n\nconst Alert = React.forwardRef(({\n  children,\n  icon,\n  actions,\n  dismissible,\n  onClose,\n  closeLabel,\n  stacked,\n  ...props\n}, ref) => {\n  const [isStacked, setIsStacked] = useState(stacked);\n  const isExtraSmall = useMediaQuery({ maxWidth: breakpoints.extraSmall.maxWidth });\n  const actionButtonSize = 'sm';\n\n  useEffect(() => {\n    if (isExtraSmall) {\n      setIsStacked(true);\n    } else {\n      setIsStacked(stacked);\n    }\n  }, [isExtraSmall, stacked]);\n\n  const cloneActionElement = useCallback(\n    (Action) => {\n      const addtlActionProps = { size: actionButtonSize, key: Action.props.children };\n      return React.cloneElement(Action, addtlActionProps);\n    },\n    [],\n  );\n\n  return (\n    <BaseAlert\n      {...props}\n      className={classNames('alert-content', props.className)}\n      ref={ref}\n    >\n      {icon && <Icon src={icon} className=\"alert-icon\" />}\n      <div\n        className={classNames({\n          'pgn__alert-message-wrapper': !isStacked,\n          'pgn__alert-message-wrapper-stacked': isStacked,\n        })}\n      >\n        <div className=\"alert-message-content\">\n          {children}\n        </div>\n        {(dismissible || actions?.length > 0) && (\n          <ActionRow className=\"pgn__alert-actions\">\n            <ActionRow.Spacer />\n            {dismissible && (\n              <Button\n                size={actionButtonSize}\n                variant=\"tertiary\"\n                onClick={onClose}\n              >\n                {closeLabel || (\n                  <FormattedMessage\n                    id=\"pgn.Alert.closeLabel\"\n                    defaultMessage=\"Dismiss\"\n                    description=\"Label of a close button on Alert component\"\n                  />\n                )}\n              </Button>\n            )}\n            {actions && actions.map(cloneActionElement)}\n          </ActionRow>\n        )}\n      </div>\n    </BaseAlert>\n  );\n});\n\n// This is needed to display a default prop for Alert.Heading element\n// Copied from react-bootstrap since BaseAlert.Heading component doesn't have defaultProps,\n// so there seems to be no other way of providing correct default prop for base element\nconst DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\n\nfunction AlertHeading(props) {\n  return <BaseAlert.Heading {...props} />;\n}\nfunction AlertLink(props) {\n  return <BaseAlert.Link {...props} />;\n}\n\nconst commonPropTypes = {\n  /** Specifies the base element */\n  as: PropTypes.elementType,\n  /** Overrides underlying component base CSS class name */\n  bsPrefix: PropTypes.string,\n};\n\nAlertLink.propTypes = commonPropTypes;\nAlertHeading.propTypes = commonPropTypes;\n\nAlertLink.defaultProps = {\n  as: 'a',\n  bsPrefix: 'alert-link',\n};\n\nAlertHeading.defaultProps = {\n  as: DivStyledAsH4,\n  bsPrefix: 'alert-heading',\n};\n\nAlert.propTypes = {\n  ...BaseAlert.propTypes,\n  /** Specifies class name to append to the base element */\n  className: PropTypes.string,\n  /** Overrides underlying component base CSS class name */\n  bsPrefix: PropTypes.string,\n  /** Specifies variant to use. */\n  variant: PropTypes.oneOf(['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'dark', 'light']),\n  /**\n   * Animate the entering and exiting of the Alert. `true` will use the `<Fade>` transition,\n   * more detailed customization is also provided.\n   */\n  transition: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n    in: PropTypes.bool,\n    appear: PropTypes.bool,\n    children: PropTypes.node,\n    onEnter: PropTypes.func,\n    onEntered: PropTypes.func,\n    onEntering: PropTypes.func,\n    onExit: PropTypes.func,\n    onExited: PropTypes.func,\n    onExiting: PropTypes.func,\n  })]),\n  /** Docstring for the children prop */\n  children: PropTypes.node,\n  /** Docstring for the icon prop... Icon that will be shown in the alert */\n  icon: PropTypes.func,\n  /** Whether the alert is shown. */\n  show: PropTypes.bool,\n  /** Whether the alert is dismissible. Defaults to true. */\n  dismissible: PropTypes.bool,\n  /** Optional callback function for when the alert it dismissed. */\n  onClose: PropTypes.func,\n  /** Optional list of action elements. May include, at most, 2 actions, or 1 if dismissible is true. */\n  actions: PropTypes.arrayOf(PropTypes.element),\n  /** Position of the dismiss and call-to-action buttons. Defaults to ``false``. */\n  stacked: PropTypes.bool,\n  /** Sets the text for alert close button, defaults to 'Dismiss'. */\n  closeLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nAlert.defaultProps = {\n  ...BaseAlert.defaultProps,\n  children: undefined,\n  icon: undefined,\n  actions: undefined,\n  dismissible: false,\n  onClose: () => {},\n  closeLabel: undefined,\n  show: true,\n  stacked: false,\n};\n\nAlert.Heading = AlertHeading;\nAlert.Link = AlertLink;\n\nexport default Alert;\n"],"mappings":"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","ignoreList":[]}