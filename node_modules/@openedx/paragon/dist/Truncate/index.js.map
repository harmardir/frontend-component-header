{"version":3,"file":"index.js","names":["React","useLayoutEffect","useRef","PropTypes","truncateLines","useWindowSize","DEFAULT_TRUNCATE_LINES","DEFAULT_TRUNCATE_ELLIPSIS","DEFAULT_TRUNCATE_ELEMENT_TYPE","Truncate","_ref","children","lines","ellipsis","elementType","className","whiteSpace","onTruncate","textContainer","_useWindowSize","width","current","_truncateLines","_truncateLines2","_slicedToArray","truncated","original","setAttribute","innerHTML","forEach","element","appendChild","createElement","ref","propTypes","string","isRequired","oneOfType","number","node","bool","func","defaultProps","undefined"],"sources":["../../src/Truncate/index.jsx"],"sourcesContent":["import React, {\n  useLayoutEffect, useRef,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { truncateLines } from './utils';\nimport useWindowSize from '../hooks/useWindowSize';\n\nconst DEFAULT_TRUNCATE_LINES = 1;\nconst DEFAULT_TRUNCATE_ELLIPSIS = '...';\nconst DEFAULT_TRUNCATE_ELEMENT_TYPE = 'div';\n\nfunction Truncate({\n  children, lines, ellipsis, elementType, className, whiteSpace, onTruncate,\n}) {\n  const textContainer = useRef();\n  const { width } = useWindowSize();\n\n  useLayoutEffect(() => {\n    if (textContainer.current) {\n      const [truncated, original] = truncateLines(children, textContainer.current, {\n        ellipsis,\n        whiteSpace,\n        lines,\n      });\n      textContainer.current.setAttribute('title', original);\n      textContainer.current.setAttribute('aria-label', original);\n      textContainer.current.innerHTML = '';\n      truncated.forEach(element => {\n        textContainer.current.appendChild(element);\n      });\n      if (onTruncate) {\n        onTruncate(truncated);\n      }\n    }\n  }, [children, ellipsis, lines, onTruncate, whiteSpace, width]);\n\n  return React.createElement(elementType, {\n    ref: textContainer,\n    className,\n  });\n}\n\nTruncate.propTypes = {\n  /** The expected text to which the ellipsis would be applied. */\n  children: PropTypes.string.isRequired,\n  /** The number of lines the text to be truncated to. */\n  lines: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  /** Text content for the ellipsis - will appear after the truncated lines. */\n  ellipsis: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.node]),\n  /** Adds the whitespace from before the ellipsis. */\n  whiteSpace: PropTypes.bool,\n  /** Custom html element for truncated text. */\n  elementType: PropTypes.string,\n  /** Specifies class name to append to the base element. */\n  className: PropTypes.string,\n  /** Callback fired when a text truncating */\n  onTruncate: PropTypes.func,\n};\n\nTruncate.defaultProps = {\n  lines: DEFAULT_TRUNCATE_LINES,\n  ellipsis: DEFAULT_TRUNCATE_ELLIPSIS,\n  whiteSpace: false,\n  elementType: DEFAULT_TRUNCATE_ELEMENT_TYPE,\n  className: undefined,\n  onTruncate: undefined,\n};\n\nexport default Truncate;\n"],"mappings":"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","ignoreList":[]}