{"version":3,"file":"StepperContext.js","names":["React","useCallback","useEffect","useReducer","useState","PropTypes","StepperContext","createContext","activeKey","stepsReducer","stepsState","action","newStepsState","type","filter","step","eventKey","some","map","concat","_toConsumableArray","index","sort","a","b","StepperContextProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","steps","dispatch","_useState","_useState2","currentBoundary","setCurrentBoundary","registerStep","removeStep","getIsViewed","activeIndex","findIndex","prevState","createElement","Provider","value","propTypes","node","isRequired"],"sources":["../../src/Stepper/StepperContext.jsx"],"sourcesContent":["import React, {\n  useCallback, useEffect, useReducer, useState,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nexport const StepperContext = React.createContext({\n  activeKey: '',\n});\n\nconst stepsReducer = (stepsState, action) => {\n  let newStepsState = [];\n  switch (action.type) {\n    case 'remove':\n      return stepsState.filter(step => step.eventKey !== action.eventKey);\n    case 'register':\n    default:\n      // If it is existing step\n      if (stepsState.some(step => step.eventKey === action.step.eventKey)) {\n        newStepsState = stepsState.map(step => {\n          if (step.eventKey === action.step.eventKey) {\n            return action.step;\n          }\n          return step;\n        });\n      } else {\n        newStepsState = [...stepsState, action.step];\n      }\n\n      // If using the index prop\n      if (stepsState.some(step => step.index)) {\n        return newStepsState.sort((a, b) => (\n          a.index > b.index ? 1 : -1\n        ));\n      }\n      return newStepsState;\n  }\n};\n\nexport function StepperContextProvider({ children, activeKey }) {\n  const [steps, dispatch] = useReducer(stepsReducer, []);\n  const [currentBoundary, setCurrentBoundary] = useState(0);\n  const registerStep = useCallback((step) => dispatch({ step, type: 'register' }), []);\n  const removeStep = useCallback((eventKey) => dispatch({ eventKey, type: 'remove' }), []);\n\n  const getIsViewed = (index) => index <= currentBoundary;\n\n  useEffect(() => {\n    const activeIndex = steps.findIndex(step => step.eventKey === activeKey);\n    setCurrentBoundary((prevState) => (activeIndex >= prevState ? activeIndex : prevState));\n  }, [activeKey, steps]);\n\n  return (\n    <StepperContext.Provider\n      value={{\n        activeKey,\n        registerStep,\n        steps,\n        removeStep,\n        getIsViewed,\n      }}\n    >\n      {children}\n    </StepperContext.Provider>\n  );\n}\n\nStepperContextProvider.propTypes = {\n  /** Specifies the content of the `ContextProvider`. */\n  children: PropTypes.node.isRequired,\n  /** Specifies the current step of the `Stepper`. */\n  activeKey: PropTypes.node.isRequired,\n};\n\nexport { stepsReducer };\n"],"mappings":"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","ignoreList":[]}