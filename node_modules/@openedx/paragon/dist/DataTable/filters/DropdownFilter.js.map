{"version":3,"file":"DropdownFilter.js","names":["React","useRef","PropTypes","Form","newId","DEFAULT_VALUE","DropdownFilter","_ref","_ref$column","column","setFilter","Header","filterChoices","getHeaderProps","ariaLabel","concat","key","onChange","e","target","value","undefined","createElement","Group","Label","id","current","className","Control","as","map","_ref2","name","number","propTypes","shape","func","isRequired","oneOfType","elementType","node","arrayOf","string"],"sources":["../../../src/DataTable/filters/DropdownFilter.jsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Form from '../../Form';\nimport { newId } from '../../utils';\n\nconst DEFAULT_VALUE = '';\n\nfunction DropdownFilter({\n  column: {\n    setFilter, Header, filterChoices, getHeaderProps,\n  },\n}) {\n  // creates a unique label that does not change on re-render in case there are multiple checkbox filters in the dom\n  const ariaLabel = useRef(newId(`dropdown-filter-label-${getHeaderProps().key}-`));\n  const onChange = (e) => {\n    if (e.target.value === DEFAULT_VALUE) {\n      // setting undefined resets the filter\n      return setFilter(undefined);\n    }\n    return setFilter(e.target.value);\n  };\n\n  return (\n    <Form.Group>\n      <Form.Label id={ariaLabel.current} className=\"sr-only\">{Header}</Form.Label>\n      <Form.Control\n        as=\"select\"\n        default={DEFAULT_VALUE}\n        onChange={onChange}\n        aria-labelledby={ariaLabel.current}\n      >\n        <option value={DEFAULT_VALUE}>{Header}</option>\n        {filterChoices.map(({ name, number, value }) => (<option key={value} value={value}>{name} {number && `(${number})`}</option>))}\n      </Form.Control>\n    </Form.Group>\n  );\n}\n\nDropdownFilter.propTypes = {\n  /**\n   * Specifies a column object.\n   *\n   * `setFilter`: Function to set the filter value.\n   *\n   * `Header`: Column header used for labels and placeholders.\n   *\n   * `filterChoices`: Specifies array of choices.\n   *\n   * `getHeaderProps`: Generates a key unique to the column being filtered.\n   */\n  column: PropTypes.shape({\n    setFilter: PropTypes.func.isRequired,\n    Header: PropTypes.oneOfType([PropTypes.elementType, PropTypes.node]).isRequired,\n    filterChoices: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      number: PropTypes.number,\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    })).isRequired,\n    getHeaderProps: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default DropdownFilter;\n"],"mappings":"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","ignoreList":[]}