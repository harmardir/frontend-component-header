{"version":3,"file":"ControlledSelect.js","names":["React","useContext","useCallback","PropTypes","CheckboxControl","DataTableContext","useConvertIndeterminateProp","deleteSelectedRowAction","addSelectedRowAction","ControlledSelect","_ref","row","_useContext","itemCount","_useContext$controlle","_slicedToArray","controlledTableSelections","dispatch","toggleSelected","isSelected","id","updatedProps","getToggleRowSelectedProps","createElement","className","_extends","onChange","propTypes","shape","oneOfType","string","number","isRequired","func","bool"],"sources":["../../../src/DataTable/selection/ControlledSelect.jsx"],"sourcesContent":["import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { CheckboxControl } from '../../Form';\nimport DataTableContext from '../DataTableContext';\nimport useConvertIndeterminateProp from '../utils/useConvertIndeterminateProp';\n\nimport {\n  deleteSelectedRowAction,\n  addSelectedRowAction,\n} from './data/actions';\n\nfunction ControlledSelect({ row }) {\n  const {\n    itemCount,\n    controlledTableSelections: [, dispatch],\n  } = useContext(DataTableContext);\n\n  const toggleSelected = useCallback(\n    () => {\n      if (row.isSelected) {\n        dispatch(deleteSelectedRowAction(row.id));\n      } else {\n        dispatch(addSelectedRowAction(row, itemCount));\n      }\n    },\n    [itemCount, row, dispatch],\n  );\n\n  const updatedProps = useConvertIndeterminateProp(row.getToggleRowSelectedProps());\n\n  return (\n    <div className=\"pgn__data-table__controlled-select\">\n      <CheckboxControl\n        {...updatedProps}\n        onChange={toggleSelected}\n      />\n    </div>\n  );\n}\n\nControlledSelect.propTypes = {\n  row: PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    getToggleRowSelectedProps: PropTypes.func.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n\nexport default ControlledSelect;\n"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,WAAW,QAAQ,OAAO;AACtD,OAAOC,SAAS,MAAM,YAAY;AAElC,SAASC,eAAe,QAAQ,YAAY;AAC5C,OAAOC,gBAAgB,MAAM,qBAAqB;AAClD,OAAOC,2BAA2B,MAAM,sCAAsC;AAE9E,SACEC,uBAAuB,EACvBC,oBAAoB,QACf,gBAAgB;AAEvB,SAASC,gBAAgBA,CAAAC,IAAA,EAAU;EAAA,IAAPC,GAAG,GAAAD,IAAA,CAAHC,GAAG;EAC7B,IAAAC,WAAA,GAGIX,UAAU,CAACI,gBAAgB,CAAC;IAF9BQ,SAAS,GAAAD,WAAA,CAATC,SAAS;IAAAC,qBAAA,GAAAC,cAAA,CAAAH,WAAA,CACTI,yBAAyB;IAAKC,QAAQ,GAAAH,qBAAA;EAGxC,IAAMI,cAAc,GAAGhB,WAAW,CAChC,YAAM;IACJ,IAAIS,GAAG,CAACQ,UAAU,EAAE;MAClBF,QAAQ,CAACV,uBAAuB,CAACI,GAAG,CAACS,EAAE,CAAC,CAAC;IAC3C,CAAC,MAAM;MACLH,QAAQ,CAACT,oBAAoB,CAACG,GAAG,EAAEE,SAAS,CAAC,CAAC;IAChD;EACF,CAAC,EACD,CAACA,SAAS,EAAEF,GAAG,EAAEM,QAAQ,CAC3B,CAAC;EAED,IAAMI,YAAY,GAAGf,2BAA2B,CAACK,GAAG,CAACW,yBAAyB,CAAC,CAAC,CAAC;EAEjF,oBACEtB,KAAA,CAAAuB,aAAA;IAAKC,SAAS,EAAC;EAAoC,gBACjDxB,KAAA,CAAAuB,aAAA,CAACnB,eAAe,EAAAqB,QAAA,KACVJ,YAAY;IAChBK,QAAQ,EAAER;EAAe,EAC1B,CACE,CAAC;AAEV;AAEAT,gBAAgB,CAACkB,SAAS,GAAG;EAC3BhB,GAAG,EAAER,SAAS,CAACyB,KAAK,CAAC;IACnBR,EAAE,EAAEjB,SAAS,CAAC0B,SAAS,CAAC,CAAC1B,SAAS,CAAC2B,MAAM,EAAE3B,SAAS,CAAC4B,MAAM,CAAC,CAAC,CAACC,UAAU;IACxEV,yBAAyB,EAAEnB,SAAS,CAAC8B,IAAI,CAACD,UAAU;IACpDb,UAAU,EAAEhB,SAAS,CAAC+B,IAAI,CAACF;EAC7B,CAAC,CAAC,CAACA;AACL,CAAC;AAED,eAAevB,gBAAgB","ignoreList":[]}