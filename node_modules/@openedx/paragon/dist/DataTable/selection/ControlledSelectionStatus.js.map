{"version":3,"file":"ControlledSelectionStatus.js","names":["React","useContext","useEffect","PropTypes","DataTableContext","BaseSelectionStatus","clearSelectionAction","setSelectAllRowsAllPagesAction","setSelectedRowsAction","getUnselectedPageRows","getRowIds","ControlledSelectionStatus","_ref","className","clearSelectionText","_useContext","itemCount","page","_useContext$controlle","_slicedToArray","controlledTableSelections","_useContext$controlle2","selectedRows","isEntireTableSelected","dispatch","selectedRowIds","unselectedPageRows","length","numSelectedRows","numSelectedRowsOnPage","filter","r","isSelected","selectionStatusProps","onSelectAll","onClear","createElement","defaultProps","undefined","propTypes","string","oneOfType","element"],"sources":["../../../src/DataTable/selection/ControlledSelectionStatus.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport DataTableContext from '../DataTableContext';\nimport BaseSelectionStatus from './BaseSelectionStatus';\n\nimport {\n  clearSelectionAction,\n  setSelectAllRowsAllPagesAction,\n  setSelectedRowsAction,\n} from './data/actions';\nimport {\n  getUnselectedPageRows,\n  getRowIds,\n} from './data/helpers';\n\nfunction ControlledSelectionStatus({ className, clearSelectionText }) {\n  const {\n    itemCount,\n    page,\n    controlledTableSelections: [{ selectedRows, isEntireTableSelected }, dispatch],\n  } = useContext(DataTableContext);\n\n  useEffect(\n    () => {\n      if (isEntireTableSelected) {\n        const selectedRowIds = getRowIds(selectedRows);\n        const unselectedPageRows = getUnselectedPageRows(selectedRowIds, page);\n        if (unselectedPageRows.length) {\n          dispatch(setSelectedRowsAction(unselectedPageRows, itemCount));\n        }\n      }\n    },\n    [isEntireTableSelected, selectedRows, itemCount, page, dispatch],\n  );\n\n  const numSelectedRows = isEntireTableSelected ? itemCount : selectedRows.length;\n  const numSelectedRowsOnPage = (page || []).filter(r => r.isSelected).length;\n\n  const selectionStatusProps = {\n    className,\n    numSelectedRows,\n    numSelectedRowsOnPage,\n    clearSelectionText,\n    onSelectAll: () => dispatch(setSelectAllRowsAllPagesAction()),\n    onClear: () => dispatch(clearSelectionAction()),\n  };\n  return <BaseSelectionStatus {...selectionStatusProps} />;\n}\n\nControlledSelectionStatus.defaultProps = {\n  className: undefined,\n  clearSelectionText: undefined,\n};\n\nControlledSelectionStatus.propTypes = {\n  /** A class name to append to the base element */\n  className: PropTypes.string,\n  /** A text that appears on the `Clear selection` button, defaults to 'Clear Selection' */\n  clearSelectionText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nexport default ControlledSelectionStatus;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACpD,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,gBAAgB,MAAM,qBAAqB;AAClD,OAAOC,mBAAmB,MAAM,uBAAuB;AAEvD,SACEC,oBAAoB,EACpBC,8BAA8B,EAC9BC,qBAAqB,QAChB,gBAAgB;AACvB,SACEC,qBAAqB,EACrBC,SAAS,QACJ,gBAAgB;AAEvB,SAASC,yBAAyBA,CAAAC,IAAA,EAAoC;EAAA,IAAjCC,SAAS,GAAAD,IAAA,CAATC,SAAS;IAAEC,kBAAkB,GAAAF,IAAA,CAAlBE,kBAAkB;EAChE,IAAAC,WAAA,GAIId,UAAU,CAACG,gBAAgB,CAAC;IAH9BY,SAAS,GAAAD,WAAA,CAATC,SAAS;IACTC,IAAI,GAAAF,WAAA,CAAJE,IAAI;IAAAC,qBAAA,GAAAC,cAAA,CAAAJ,WAAA,CACJK,yBAAyB;IAAAC,sBAAA,GAAAH,qBAAA;IAAKI,YAAY,GAAAD,sBAAA,CAAZC,YAAY;IAAEC,qBAAqB,GAAAF,sBAAA,CAArBE,qBAAqB;IAAIC,QAAQ,GAAAN,qBAAA;EAG/EhB,SAAS,CACP,YAAM;IACJ,IAAIqB,qBAAqB,EAAE;MACzB,IAAME,cAAc,GAAGf,SAAS,CAACY,YAAY,CAAC;MAC9C,IAAMI,kBAAkB,GAAGjB,qBAAqB,CAACgB,cAAc,EAAER,IAAI,CAAC;MACtE,IAAIS,kBAAkB,CAACC,MAAM,EAAE;QAC7BH,QAAQ,CAAChB,qBAAqB,CAACkB,kBAAkB,EAAEV,SAAS,CAAC,CAAC;MAChE;IACF;EACF,CAAC,EACD,CAACO,qBAAqB,EAAED,YAAY,EAAEN,SAAS,EAAEC,IAAI,EAAEO,QAAQ,CACjE,CAAC;EAED,IAAMI,eAAe,GAAGL,qBAAqB,GAAGP,SAAS,GAAGM,YAAY,CAACK,MAAM;EAC/E,IAAME,qBAAqB,GAAG,CAACZ,IAAI,IAAI,EAAE,EAAEa,MAAM,CAAC,UAAAC,CAAC;IAAA,OAAIA,CAAC,CAACC,UAAU;EAAA,EAAC,CAACL,MAAM;EAE3E,IAAMM,oBAAoB,GAAG;IAC3BpB,SAAS,EAATA,SAAS;IACTe,eAAe,EAAfA,eAAe;IACfC,qBAAqB,EAArBA,qBAAqB;IACrBf,kBAAkB,EAAlBA,kBAAkB;IAClBoB,WAAW,EAAE,SAAAA,YAAA;MAAA,OAAMV,QAAQ,CAACjB,8BAA8B,CAAC,CAAC,CAAC;IAAA;IAC7D4B,OAAO,EAAE,SAAAA,QAAA;MAAA,OAAMX,QAAQ,CAAClB,oBAAoB,CAAC,CAAC,CAAC;IAAA;EACjD,CAAC;EACD,oBAAON,KAAA,CAAAoC,aAAA,CAAC/B,mBAAmB,EAAK4B,oBAAuB,CAAC;AAC1D;AAEAtB,yBAAyB,CAAC0B,YAAY,GAAG;EACvCxB,SAAS,EAAEyB,SAAS;EACpBxB,kBAAkB,EAAEwB;AACtB,CAAC;AAED3B,yBAAyB,CAAC4B,SAAS,GAAG;EACpC;EACA1B,SAAS,EAAEV,SAAS,CAACqC,MAAM;EAC3B;EACA1B,kBAAkB,EAAEX,SAAS,CAACsC,SAAS,CAAC,CAACtC,SAAS,CAACqC,MAAM,EAAErC,SAAS,CAACuC,OAAO,CAAC;AAC/E,CAAC;AAED,eAAe/B,yBAAyB","ignoreList":[]}