{"version":3,"file":"BaseSelectionStatus.js","names":["React","useContext","PropTypes","FormattedMessage","Button","DataTableContext","SELECT_ALL_TEST_ID","CLEAR_SELECTION_TEST_ID","BaseSelectionStatus","_ref","_state$filters","className","clearSelectionText","numSelectedRows","numSelectedRowsOnPage","onSelectAll","onClear","selectAllText","allSelectedText","selectedText","_useContext","itemCount","filteredRows","isPaginated","state","isSelectable","maxSelectedRows","manualFilters","hasAppliedFilters","filters","length","isAllRowsSelected","filteredItems","hasMaxSelectedRows","intlAllSelectedText","createElement","id","defaultMessage","description","values","defaultSelectedText","intlSelectedText","variant","size","onClick","defaultProps","undefined","propTypes","string","oneOfType","element","number","isRequired","func"],"sources":["../../../src/DataTable/selection/BaseSelectionStatus.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport Button from '../../Button';\nimport DataTableContext from '../DataTableContext';\nimport {\n  SELECT_ALL_TEST_ID,\n  CLEAR_SELECTION_TEST_ID,\n} from './data/constants';\n\nfunction BaseSelectionStatus({\n  className,\n  clearSelectionText,\n  numSelectedRows,\n  numSelectedRowsOnPage,\n  onSelectAll,\n  onClear,\n  selectAllText,\n  allSelectedText,\n  selectedText,\n}) {\n  const {\n    itemCount, filteredRows, isPaginated, state,\n    isSelectable, maxSelectedRows, manualFilters,\n  } = useContext(DataTableContext);\n  const hasAppliedFilters = state?.filters?.length > 0;\n  const isAllRowsSelected = numSelectedRows === itemCount;\n  const filteredItems = manualFilters ? itemCount : (filteredRows?.length || itemCount);\n  const hasMaxSelectedRows = isSelectable && maxSelectedRows;\n\n  const intlAllSelectedText = allSelectedText || (\n    <FormattedMessage\n      id=\"pgn.DataTable.BaseSelectionStatus.allSelectedText\"\n      defaultMessage=\"All {numSelectedRows} selected\"\n      description=\"Text for all selected label\"\n      values={{ numSelectedRows }}\n    />\n  );\n\n  const defaultSelectedText = isPaginated || hasAppliedFilters ? (\n    <FormattedMessage\n      id=\"pgn.DataTable.BaseSelectionStatus.selectedTextPaginated\"\n      defaultMessage=\"{numSelectedRows} selected ({numSelectedRowsOnPage} shown below)\"\n      description=\"Text for selected label when table is paginated\"\n      values={{ numSelectedRows, numSelectedRowsOnPage }}\n    />\n  ) : (\n    <FormattedMessage\n      id=\"pgn.DataTable.BaseSelectionStatus.selectedText\"\n      defaultMessage=\"{numSelectedRows} selected\"\n      description=\"Text for selected label\"\n      values={{ numSelectedRows }}\n    />\n  );\n\n  const intlSelectedText = selectedText || defaultSelectedText;\n\n  return (\n    <div className={className} data-testid=\"selection-status-component\">\n      <span data-testid=\"selection-status\">\n        {isAllRowsSelected ? intlAllSelectedText : intlSelectedText}\n      </span>\n      {!isAllRowsSelected && !hasMaxSelectedRows && (\n        <Button\n          data-testid={SELECT_ALL_TEST_ID}\n          variant=\"link\"\n          size=\"inline\"\n          onClick={onSelectAll}\n        >\n          {selectAllText || (\n            <FormattedMessage\n              id=\"pgn.DataTable.BaseSelectionStatus.selectAllText\"\n              defaultMessage=\"Select all {itemCount}\"\n              description=\"A label for select all button.\"\n              values={{ itemCount: filteredItems }}\n            />\n          )}\n        </Button>\n      )}\n      {numSelectedRows > 0 && (\n        <Button\n          data-testid={CLEAR_SELECTION_TEST_ID}\n          variant=\"link\"\n          size=\"inline\"\n          onClick={onClear}\n        >\n          {clearSelectionText || (\n            <FormattedMessage\n              id=\"pgn.DataTable.BaseSelectionStatus.clearSelectionText\"\n              defaultMessage=\"Clear selection\"\n              description=\"A label of clear all selection button.\"\n            />\n          )}\n        </Button>\n      )}\n    </div>\n  );\n}\n\nBaseSelectionStatus.defaultProps = {\n  className: undefined,\n  selectAllText: undefined,\n  allSelectedText: undefined,\n  selectedText: undefined,\n  clearSelectionText: undefined,\n};\n\nBaseSelectionStatus.propTypes = {\n  /** A class name to append to the base element */\n  className: PropTypes.string,\n  /** A text that appears on the `Clear selection` button, defaults to 'Clear selection' */\n  clearSelectionText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  /** Count of selected rows in the table. */\n  numSelectedRows: PropTypes.number.isRequired,\n  /** Count of selected rows on the current page */\n  numSelectedRowsOnPage: PropTypes.number.isRequired,\n  /** A handler for 'Select all' button. */\n  onSelectAll: PropTypes.func.isRequired,\n  /** A handler for 'Clear selection' button. */\n  onClear: PropTypes.func.isRequired,\n  /** A text that appears on the `Select all` button, defaults to 'Select All {itemCount}' */\n  selectAllText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  /** A text that appears when all items have been selected, defaults to 'All {numSelectedRows} selected' */\n  allSelectedText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  /** A text that appears when some items have been selected, defaults to '{numSelectedRows} selected' */\n  selectedText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nexport default BaseSelectionStatus;\n"],"mappings":"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","ignoreList":[]}