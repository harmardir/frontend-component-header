{"version":3,"file":"PaginationContext.js","names":["React","createContext","useEffect","useRef","useState","PropTypes","PAGINATION_VARIANTS","getPaginationRange","PaginationContext","PaginationContextProvider","_ref","children","onPageSelect","invertColors","maxPagesDisplayed","buttonLabels","icons","variant","pageCount","controlledCurrentPage","currentPage","initialPage","_useState","_useState2","_slicedToArray","setCurrentPage","_useState3","_useState4","pageButtonSelected","setPageButtonSelected","previousButtonRef","nextButtonRef","pageButtonRef","currentPageRef","focus","isUncontrolled","undefined","isPageButtonActive","page","isOnFirstPage","isOnLastPage","isDefaultVariant","getPageButtonRefHandler","pageNum","element","current","handlePageSelect","handlePreviousButtonClick","prevState","handleNextButtonClick","getAriaLabelForPreviousButton","ariaLabel","concat","previous","getAriaLabelForNextButton","next","getAriaLabelForPageButton","getAriaLabelForPageOfCountButton","pageOfCount","getScreenReaderText","getPageOfText","getPageButtonVariant","buttonVariant","getNextButtonIcon","rightIcon","getPrevButtonIcon","leftIcon","displayPages","currentIndex","count","length","requireFirstAndLastPages","value","createElement","Provider","propTypes","node","isRequired","func","number","shape","string","oneOfType","oneOf","Object","values","bool","defaultProps"],"sources":["../../src/Pagination/PaginationContext.jsx"],"sourcesContent":["import React, {\n  createContext,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { PAGINATION_VARIANTS } from './constants';\nimport getPaginationRange from './getPaginationRange';\n\nconst PaginationContext = createContext({});\n\nfunction PaginationContextProvider({\n  children, onPageSelect, invertColors, maxPagesDisplayed,\n  buttonLabels, icons, variant,\n  pageCount, currentPage: controlledCurrentPage, initialPage,\n}) {\n  const [currentPage, setCurrentPage] = useState(controlledCurrentPage || initialPage);\n  const [pageButtonSelected, setPageButtonSelected] = useState(false);\n  const previousButtonRef = useRef(null);\n  const nextButtonRef = useRef(null);\n  const pageButtonRef = useRef([]);\n\n  useEffect(() => {\n    const currentPageRef = pageButtonRef[currentPage];\n\n    if (currentPageRef && pageButtonSelected) {\n      currentPageRef.focus();\n      setPageButtonSelected(false);\n    }\n  }, [currentPage, pageButtonSelected]);\n\n  const isUncontrolled = () => controlledCurrentPage === undefined;\n  const isPageButtonActive = (page) => page === currentPage;\n  const isOnFirstPage = () => (currentPage === 1 || pageCount === 0);\n  const isOnLastPage = () => currentPage === pageCount || pageCount === 0;\n  const isDefaultVariant = () => variant === PAGINATION_VARIANTS.default;\n\n  if (!isUncontrolled() && controlledCurrentPage !== currentPage) {\n    setCurrentPage(controlledCurrentPage);\n  }\n\n  const getPageButtonRefHandler = (pageNum) => (element) => { pageButtonRef.current[pageNum] = element; };\n\n  const handlePageSelect = (page) => {\n    if (page !== currentPage) {\n      if (isUncontrolled()) {\n        setCurrentPage(page);\n      }\n      setPageButtonSelected(true);\n      onPageSelect(page);\n    }\n  };\n\n  const handlePreviousButtonClick = () => {\n    onPageSelect(currentPage - 1);\n    if (currentPage === 2) {\n      nextButtonRef.current.focus();\n    }\n    if (isUncontrolled()) {\n      setCurrentPage((prevState) => prevState - 1);\n    }\n  };\n\n  const handleNextButtonClick = () => {\n    onPageSelect(currentPage + 1);\n    if (currentPage === pageCount - 1) {\n      previousButtonRef.current.focus();\n    }\n    if (isUncontrolled()) {\n      setCurrentPage((prevState) => prevState + 1);\n    }\n  };\n\n  const getAriaLabelForPreviousButton = () => {\n    let ariaLabel = `${buttonLabels.previous}`;\n\n    if (!isOnFirstPage()) {\n      ariaLabel += `, ${buttonLabels.page} ${currentPage - 1}`;\n    }\n\n    return ariaLabel;\n  };\n\n  const getAriaLabelForNextButton = () => {\n    let ariaLabel = `${buttonLabels.next}`;\n\n    if (!isOnLastPage()) {\n      ariaLabel += `, ${buttonLabels.page} ${currentPage + 1}`;\n    }\n\n    return ariaLabel;\n  };\n\n  const getAriaLabelForPageButton = (page) => {\n    let ariaLabel = `${buttonLabels.page} ${page}`;\n\n    if (isPageButtonActive(page)) {\n      ariaLabel += `, ${buttonLabels.currentPage}`;\n    }\n\n    return ariaLabel;\n  };\n\n  const getAriaLabelForPageOfCountButton = () => `${buttonLabels.page} ${currentPage}, ${buttonLabels.currentPage}, ${buttonLabels.pageOfCount} ${pageCount}`;\n\n  const getScreenReaderText = () => `${buttonLabels.page} ${currentPage}, ${buttonLabels.currentPage}, ${buttonLabels.pageOfCount} ${pageCount}`;\n  const getPageOfText = () => `${currentPage} ${buttonLabels.pageOfCount} ${pageCount}`;\n\n  const getPageButtonVariant = (page) => {\n    let buttonVariant = isPageButtonActive(page) ? 'primary' : 'tertiary';\n\n    if (invertColors) {\n      buttonVariant = `inverse-${buttonVariant}`;\n    }\n\n    return buttonVariant;\n  };\n\n  const getNextButtonIcon = () => icons.rightIcon;\n  const getPrevButtonIcon = () => icons.leftIcon;\n\n  const displayPages = getPaginationRange({\n    currentIndex: currentPage,\n    count: pageCount,\n    length: maxPagesDisplayed,\n    requireFirstAndLastPages: true,\n  });\n\n  const value = {\n    invertColors,\n    displayPages,\n    pageCount,\n    buttonLabels,\n    previousButtonRef,\n    nextButtonRef,\n    pageButtonRef,\n    getPrevButtonIcon,\n    getNextButtonIcon,\n    getAriaLabelForNextButton,\n    getAriaLabelForPageButton,\n    getAriaLabelForPreviousButton,\n    getAriaLabelForPageOfCountButton,\n    getPageButtonVariant,\n    handlePreviousButtonClick,\n    handleNextButtonClick,\n    handlePageSelect,\n    isOnFirstPage,\n    isOnLastPage,\n    isPageButtonActive,\n    isDefaultVariant,\n    getScreenReaderText,\n    getPageOfText,\n    getPageButtonRefHandler,\n  };\n\n  return (\n    <PaginationContext.Provider value={value}>\n      {children}\n    </PaginationContext.Provider>\n  );\n}\n\nPaginationContextProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  onPageSelect: PropTypes.func.isRequired,\n  pageCount: PropTypes.number.isRequired,\n  buttonLabels: PropTypes.shape({\n    previous: PropTypes.string,\n    next: PropTypes.string,\n    page: PropTypes.string,\n    currentPage: PropTypes.string,\n    pageOfCount: PropTypes.string,\n  }).isRequired,\n  currentPage: PropTypes.number,\n  maxPagesDisplayed: PropTypes.number.isRequired,\n  icons: PropTypes.shape({\n    leftIcon: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n    rightIcon: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n  }).isRequired,\n  variant: PropTypes.oneOf(Object.values(PAGINATION_VARIANTS)).isRequired,\n  invertColors: PropTypes.bool.isRequired,\n  initialPage: PropTypes.number.isRequired,\n};\n\nPaginationContextProvider.defaultProps = {\n  currentPage: undefined,\n};\n\nexport { PaginationContextProvider };\nexport default PaginationContext;\n"],"mappings":"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","ignoreList":[]}