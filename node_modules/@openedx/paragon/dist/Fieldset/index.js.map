{"version":3,"file":"index.js","names":["React","PropTypes","classNames","newId","ValidationMessage","Variant","inputProps","legend","oneOfType","string","element","isRequired","children","node","className","id","isValid","bool","invalidMessage","variant","shape","status","oneOf","Object","keys","map","k","variantIconDescription","defaultProps","undefined","INFO","Fieldset","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","_createClass","key","value","getVariantClassName","render","_this$props","errorId","concat","createElement","getDerivedStateFromProps","nextProps","prevState","Component","propTypes"],"sources":["../../src/Fieldset/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport newId from '../utils/newId';\n\nimport ValidationMessage from '../ValidationMessage/index';\nimport Variant from '../utils/constants';\n\nconst inputProps = {\n  legend: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n\n  children: PropTypes.node,\n  className: PropTypes.string,\n  id: PropTypes.string,\n  isValid: PropTypes.bool,\n  invalidMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  variant: PropTypes.shape({\n    status: PropTypes.oneOf(Object.keys(Variant.status).map(k => Variant.status[k])),\n  }),\n  variantIconDescription: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nconst defaultProps = {\n  children: null,\n  className: undefined,\n  id: '',\n  isValid: true,\n  invalidMessage: '',\n  variant: {\n    status: Variant.status.INFO,\n  },\n  variantIconDescription: '',\n};\n\nclass Fieldset extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { id: props.id || newId('fieldset') };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.id !== prevState.id) {\n      return { id: nextProps.id || newId('fieldset') };\n    }\n\n    return null;\n  }\n\n  getVariantClassName() {\n    const { variant } = this.props;\n    let className;\n\n    switch (variant.status) {\n      case Variant.status.INFO:\n        className = 'is-invalid-nodanger';\n        break;\n      default:\n        break;\n    }\n\n    return className;\n  }\n\n  render() {\n    const {\n      className,\n      children,\n      variantIconDescription,\n      invalidMessage,\n      isValid,\n      legend,\n      variant,\n    } = this.props;\n    const errorId = `error-${this.state.id}`;\n    return (\n      <div className=\"paragon-fieldset\">\n        <fieldset\n          className={classNames(\n            'form-control',\n            'p-3',\n            { 'is-invalid': !isValid },\n            this.getVariantClassName(),\n            className,\n          )}\n          aria-describedby={errorId}\n          data-testid=\"fieldset\"\n        >\n          <legend className=\"p-1\">{legend}</legend>\n          {children}\n        </fieldset>\n        <ValidationMessage\n          id={errorId}\n          isValid={isValid}\n          invalidMessage={invalidMessage}\n          variant={variant}\n          variantIconDescription={variantIconDescription}\n        />\n      </div>\n    );\n  }\n}\n\nFieldset.propTypes = inputProps;\nFieldset.defaultProps = defaultProps;\n\nexport default Fieldset;\n"],"mappings":"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","ignoreList":[]}