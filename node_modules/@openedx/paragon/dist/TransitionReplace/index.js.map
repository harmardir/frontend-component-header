{"version":3,"file":"index.js","names":["React","PropTypes","CSSTransition","TransitionGroup","classNames","TransitionReplace","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","height","onChildEnter","bind","_assertThisInitialized","onChildEntering","onChildEntered","onChildExit","onChildExiting","onChildExited","_createClass","key","value","htmlNode","setState","offsetHeight","renderChildTransition","child","_this2","process","env","NODE_ENV","console","warn","commonChildStyles","padding","transitionStyles","entering","entered","exiting","position","top","left","right","pointerEvents","exited","createElement","timeout","enter","enterDuration","exit","exitDuration","unmountOnExit","mountOnEnter","onEnter","onEntering","onEntered","onExit","onExiting","onExited","transitionClassNames","style","_objectSpread","render","className","Children","map","children","Component","propTypes","element","number","string","func","shape","defaultProps","undefined"],"sources":["../../src/TransitionReplace/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport classNames from 'classnames';\n\nclass TransitionReplace extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { height: null };\n\n    this.onChildEnter = this.onChildEnter.bind(this);\n    this.onChildEntering = this.onChildEntering.bind(this);\n    this.onChildEntered = this.onChildEntered.bind(this);\n    this.onChildExit = this.onChildExit.bind(this);\n    this.onChildExiting = this.onChildExiting.bind(this);\n    this.onChildExited = this.onChildExited.bind(this);\n  }\n\n  // Transition events are fired in this order:\n  //\n  // onEnter > onEntering > onEntered\n  // onExit  > onExiting  > onExited\n  //\n  // Keep in mind that we always have two transitions happening\n  // both the entering and leaving children\n  //\n  // We set the container height (for animation) in this order:\n  //\n  // 1. onChildExit         (explicitly set the height to match the current current)\n  // 2. onChildEntering     (set the height to match the new content)\n  // 3. onChildExited       (reset the height to null)\n\n  onChildEnter(htmlNode) {\n    if (this.props.onChildEnter) { this.props.onChildEnter(htmlNode); }\n  }\n\n  onChildEntering(htmlNode) {\n    this.setState({ height: htmlNode.offsetHeight });\n    if (this.props.onChildEntering) { this.props.onChildEntering(htmlNode); }\n  }\n\n  onChildEntered(htmlNode) {\n    this.setState({ height: null });\n    if (this.props.onChildEntered) { this.props.onChildEntered(htmlNode); }\n  }\n\n  onChildExit(htmlNode) {\n    this.setState({ height: htmlNode.offsetHeight });\n    if (this.props.onChildExit) { this.props.onChildExit(htmlNode); }\n  }\n\n  onChildExiting(htmlNode) {\n    if (this.props.onChildExiting) { this.props.onChildExiting(htmlNode); }\n  }\n\n  onChildExited(htmlNode) {\n    this.setState({ height: null });\n    if (this.props.onChildExited) { this.props.onChildExited(htmlNode); }\n  }\n\n  renderChildTransition(child) {\n    if (!child.key && process.env.NODE_ENV === 'development') {\n      // eslint-disable-next-line no-console\n      console.warn(\"TransitionReplace: A child is missing a 'key' prop. Keys are required for any child of this component.\");\n    }\n    // Makes the exiting and entering children occupy the same space\n    // SCSS handles the crossfade so it can be easily overridden\n    const commonChildStyles = {\n      // Prevent margin-collapsing which throws off height calculations\n      padding: '.1px 0',\n    };\n\n    const transitionStyles = {\n      entering: {},\n      entered: {},\n      exiting: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        pointerEvents: 'none',\n      },\n      exited: {},\n    };\n\n    return (\n      <CSSTransition\n        timeout={{\n          enter: this.props.enterDuration,\n          exit: this.props.exitDuration,\n        }}\n        unmountOnExit\n        mountOnEnter\n        onEnter={this.onChildEnter}\n        onEntering={this.onChildEntering}\n        onEntered={this.onChildEntered}\n        onExit={this.onChildExit}\n        onExiting={this.onChildExiting}\n        onExited={this.onChildExited}\n        classNames={this.props.transitionClassNames}\n      >\n        {state => (\n          <div\n            style={{\n              ...commonChildStyles,\n              ...transitionStyles[state],\n              ...this.props.transitionStyles[state],\n            }}\n          >\n            {child}\n          </div>\n        )}\n      </CSSTransition>\n    );\n  }\n\n  render() {\n    return (\n      <TransitionGroup\n        className={classNames(\n          'pgn-transition-replace-group',\n          'position-relative',\n          { 'overflow-hidden': this.state.height !== null },\n          this.props.className,\n        )}\n        style={{ height: this.state.height }}\n      >\n        {React.Children.map(this.props.children, this.renderChildTransition, this)}\n      </TransitionGroup>\n    );\n  }\n}\n\nTransitionReplace.propTypes = {\n  /** Specifies an additional class for the base element */\n  children: PropTypes.element,\n  /** Duration of the element appearance transition. */\n  enterDuration: PropTypes.number,\n  /** Duration of the element dismiss transition. */\n  exitDuration: PropTypes.number,\n  /** Specifies class name to append to the base element. */\n  className: PropTypes.string,\n  /** A `Transition` callback fired immediately after the `enter` or `appear` class is applied. */\n  onChildEnter: PropTypes.func,\n  /** A `Transition` callback fired immediately after the `enter-active` or `appear-active` class is applied. */\n  onChildEntering: PropTypes.func,\n  /**\n   * A `Transition` callback fired immediately after the `enter` or\n   * `appear` classes are removed and the done class is added to the DOM node.\n   */\n  onChildEntered: PropTypes.func,\n  /** A `Transition` callback fired immediately after the `exit` class is applied. */\n  onChildExit: PropTypes.func,\n  /** A `Transition` callback fired immediately after the `exit-active` is applied. */\n  onChildExiting: PropTypes.func,\n  /**\n   * A `Transition` callback fired immediately after the `exit` classes\n   * are removed and the exit-done class is added to the DOM node.\n   */\n  onChildExited: PropTypes.func,\n  /** An object that specifies transition styles. */\n  transitionStyles: PropTypes.shape({\n    entering: PropTypes.shape({}),\n    entered: PropTypes.shape({}),\n    exiting: PropTypes.shape({}),\n    exited: PropTypes.shape({}),\n  }),\n  /** Specifies class name to append to the `Transition`. */\n  transitionClassNames: PropTypes.string,\n};\n\nTransitionReplace.defaultProps = {\n  children: undefined,\n  enterDuration: 300,\n  exitDuration: 300,\n  className: undefined,\n  onChildEnter: undefined,\n  onChildEntering: undefined,\n  onChildEntered: undefined,\n  onChildExit: undefined,\n  onChildExiting: undefined,\n  onChildExited: undefined,\n  transitionStyles: {},\n  transitionClassNames: 'pgn__transition-replace',\n};\n\nexport default TransitionReplace;\n"],"mappings":"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","ignoreList":[]}