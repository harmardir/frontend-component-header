{"version":3,"file":"index.js","names":["React","PropTypes","classNames","Input","FormControl","propTypes","string","isRequired","className","invalid","bool","valid","validMessage","node","invalidMessage","helpText","children","defaultProps","undefined","ValidationFormGroup","props","id","renderChildren","Children","map","child","_classNames","indexOf","type","cloneElement","_defineProperty","concat","Boolean","renderHelpText","text","createElement","renderInvalidFeedback","message","renderValidFeedback"],"sources":["../../src/ValidationFormGroup/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Input from '../Input';\nimport { FormControl } from '../Form';\n\nconst propTypes = {\n  /** Id of the form input that the validation is for */\n  for: PropTypes.string.isRequired,\n  /** Additional classnames for this component */\n  className: PropTypes.string,\n  /** Determines if invalid styles / message will be shown */\n  invalid: PropTypes.bool,\n  /** Determines if invalid styles / message will be shown */\n  valid: PropTypes.bool,\n  /** Message to display on valid input */\n  validMessage: PropTypes.node,\n  /** Message to display on invalid input */\n  invalidMessage: PropTypes.node,\n  /** Help text for the form input */\n  helpText: PropTypes.node,\n  /** Specifies contents of the component. */\n  children: PropTypes.node,\n};\n\nconst defaultProps = {\n  invalid: undefined,\n  valid: undefined,\n  validMessage: undefined,\n  invalidMessage: undefined,\n  helpText: undefined,\n  children: undefined,\n  className: undefined,\n};\n\nfunction ValidationFormGroup(props) {\n  const {\n    className,\n    invalidMessage,\n    invalid,\n    valid,\n    validMessage,\n    helpText,\n    for: id,\n    children,\n  } = props;\n\n  const renderChildren = () => React.Children.map(children, (child) => {\n    // Any non-user input element should pass through unmodified\n    if (['input', 'textarea', 'select', Input, FormControl].indexOf(child.type) === -1) { return child; }\n\n    // Add validation class names and describedby values to input element\n    return React.cloneElement(child, {\n      className: classNames(child.props.className, {\n        'is-invalid': invalid,\n        'is-valid': valid,\n      }),\n      // This is a non-standard use of the classNames package, but it's exactly the same use case.\n      'aria-describedby': classNames(child.props['aria-describedby'], {\n        [`${id}-help-text`]: Boolean(helpText),\n        [`${id}-invalid-feedback`]: invalid && invalidMessage,\n        [`${id}-valid-feedback`]: valid && validMessage,\n      }),\n    });\n  });\n\n  const renderHelpText = (text) => {\n    if (!text) { return null; }\n    return <small id={`${id}-help-text`} className=\"form-text text-muted\">{text}</small>;\n  };\n\n  /**\n   * The red text conveys semantic emphasis using color and font weight. For WCAG 2.1, the\n   * semantics need to be exposed programmatically as well. To do this, we use <strong/>\n   * elements and attach the formatting classes to them.\n   */\n  const renderInvalidFeedback = (message) => {\n    if (!message) { return null; }\n    return (\n      <strong\n        id={`${id}-invalid-feedback`}\n        className=\"invalid-feedback\"\n      >\n        {message}\n      </strong>\n    );\n  };\n\n  const renderValidFeedback = (message) => {\n    if (!message) { return null; }\n    return (\n      <div\n        className=\"valid-feedback\"\n        id={`${id}-valid-feedback`}\n      >\n        {message}\n      </div>\n    );\n  };\n\n  return (\n    <div className={classNames('form-group', className)} data-testid=\"validation-form-group\">\n      {renderChildren()}\n      {renderHelpText(helpText)}\n      {renderInvalidFeedback(invalidMessage)}\n      {renderValidFeedback(validMessage)}\n    </div>\n  );\n}\n\nValidationFormGroup.propTypes = propTypes;\nValidationFormGroup.defaultProps = defaultProps;\n\nexport default ValidationFormGroup;\n"],"mappings":"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","ignoreList":[]}