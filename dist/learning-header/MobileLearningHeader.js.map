{"version":3,"file":"MobileLearningHeader.js","names":["React","PropTypes","injectIntl","intlShape","getConfig","Menu","MenuTrigger","MenuContent","LinkedLogo","Logo","messages","MenuIcon","MobileLearningHeader","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","isMenuOpen","toggleMenu","bind","_assertThisInitialized","_createClass","key","value","setState","prevState","renderMainMenu","mainMenu","Array","isArray","map","menuItem","type","href","content","submenuContent","createElement","concat","className","tag","role","tabIndex","render","_this$props","logo","logoAltText","logoDestination","stickyOnMobile","intl","logoProps","src","alt","stickyClassName","logoClasses","AUTHN_MINIMAL_HEADER","formatMessage","title","onClick","focusable","style","width","height","_extends","itemType","Component","propTypes","oneOfType","node","array","string","bool","isRequired","defaultProps"],"sources":["../../src/learning-header/MobileLearningHeader.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\n// Local Components\nimport { Menu, MenuTrigger, MenuContent } from './Menu';\nimport { LinkedLogo, Logo } from './Logo';\n\n// i18n\nimport messages from './Header.messages';\n\n// Assets\nimport { MenuIcon } from './Icons';\n\nclass MobileLearningHeader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMenuOpen: false,  // Add state for burger menu\n    };\n\n    this.toggleMenu = this.toggleMenu.bind(this);\n  }\n\n  toggleMenu() {\n    this.setState((prevState) => ({\n      isMenuOpen: !prevState.isMenuOpen,\n    }));\n  }\n\n  renderMainMenu() {\n    const { mainMenu } = this.props;\n\n    // Nodes are accepted as a prop\n    if (!Array.isArray(mainMenu)) {\n      return mainMenu;\n    }\n\n    return mainMenu.map((menuItem) => {\n      const {\n        type,\n        href,\n        content,\n        submenuContent,\n      } = menuItem;\n\n      if (type === 'item') {\n        return (\n          <a key={`${type}-${content}`} className=\"nav-link\" href={href}>\n            {content}\n          </a>\n        );\n      }\n\n      return (\n        <Menu key={`${type}-${content}`} tag=\"div\" className=\"nav-item\">\n          <MenuTrigger tag=\"a\" role=\"button\" tabIndex=\"0\" className=\"nav-link\">\n            {content}\n          </MenuTrigger>\n          <MenuContent className=\"position-static pin-left pin-right py-2\">\n            {submenuContent}\n          </MenuContent>\n        </Menu>\n      );\n    });\n  }\n\n  render() {\n    const {\n      logo,\n      logoAltText,\n      logoDestination,\n      stickyOnMobile,\n      intl,\n      mainMenu,\n    } = this.props;\n    const { isMenuOpen } = this.state;\n\n    const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\n    const stickyClassName = stickyOnMobile ? 'sticky-top' : '';\n    const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'justify-content-left pl-3' : 'justify-content-center';\n\n    return (\n      <header\n        aria-label={intl.formatMessage(messages['header.label.main.header'])}\n        className={`site-header-mobile d-flex justify-content-between align-items-center shadow ${stickyClassName}`}\n      >\n        <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\n        \n        {/* Burger Menu Button */}\n        <button\n          type=\"button\"\n          className=\"icon-button\"\n          aria-label={intl.formatMessage(messages['header.label.main.menu'])}\n          title={intl.formatMessage(messages['header.label.main.menu'])}\n          onClick={this.toggleMenu}\n        >\n          <MenuIcon role=\"img\" aria-hidden focusable=\"false\" style={{ width: '1.5rem', height: '1.5rem' }} />\n        </button>\n\n        {/* Logo */}\n        <div className={`w-100 d-flex ${logoClasses}`}>\n          {logoDestination === null ? (\n            <Logo className=\"logo\" src={logo} alt={logoAltText} />\n          ) : (\n            <LinkedLogo className=\"logo\" {...logoProps} itemType=\"http://schema.org/Organization\" />\n          )}\n        </div>\n\n        {/* Main Menu Dropdown */}\n        {isMenuOpen && (\n          <nav className=\"main-menu-dropdown nav flex-column position-absolute pin-left pin-right border-top shadow py-2\">\n            {this.renderMainMenu()}\n          </nav>\n        )}\n      </header>\n    );\n  }\n}\n\nMobileLearningHeader.propTypes = {\n  mainMenu: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.array,\n  ]),\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  logoDestination: PropTypes.string,\n  stickyOnMobile: PropTypes.bool,\n\n  // i18n\n  intl: intlShape.isRequired,\n};\n\nMobileLearningHeader.defaultProps = {\n  mainMenu: [],\n  logo: null,\n  logoAltText: null,\n  logoDestination: null,\n  stickyOnMobile: true,\n};\n\nexport default injectIntl(MobileLearningHeader);\n"],"mappings":"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"}