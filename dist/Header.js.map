{"version":3,"file":"Header.js","names":["React","useContext","useState","Responsive","injectIntl","intlShape","AppContext","APP_CONFIG_INITIALIZED","ensureConfig","mergeConfig","getConfig","subscribe","DesktopHeader","MobileHeader","messages","AUTHN_MINIMAL_HEADER","process","env","Header","_ref","intl","_useContext","authenticatedUser","config","_useState","_useState2","_slicedToArray","isCoursesHovered","setIsCoursesHovered","mainMenu","type","href","concat","LMS_BASE_URL","content","formatMessage","onMouseEnter","onMouseLeave","dropdownItems","orderHistoryItem","ORDER_HISTORY_URL","userMenu","ACCOUNT_PROFILE_URL","username","ACCOUNT_SETTINGS_URL","LOGOUT_URL","splice","loggedOutItems","LOGIN_URL","props","logo","LOGO_URL","logoAltText","SITE_NAME","logoDestination","loggedIn","avatar","createElement","Fragment","maxWidth","minWidth","className","propTypes","isRequired"],"sources":["../src/Header.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport Responsive from 'react-responsive';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { AppContext } from '@edx/frontend-platform/react';\nimport {\n  APP_CONFIG_INITIALIZED,\n  ensureConfig,\n  mergeConfig,\n  getConfig,\n  subscribe,\n} from '@edx/frontend-platform';\n\nimport DesktopHeader from './DesktopHeader';\nimport MobileHeader from './MobileHeader';\n\nimport messages from './Header.messages';\n\nensureConfig([\n  'LMS_BASE_URL',\n  'LOGOUT_URL',\n  'LOGIN_URL',\n  'SITE_NAME',\n  'LOGO_URL',\n  'ORDER_HISTORY_URL',\n], 'Header component');\n\nsubscribe(APP_CONFIG_INITIALIZED, () => {\n  mergeConfig({\n    AUTHN_MINIMAL_HEADER: !!process.env.AUTHN_MINIMAL_HEADER,\n  }, 'Header additional config');\n});\n\nconst Header = ({ intl }) => {\n  const { authenticatedUser, config } = useContext(AppContext);\n  const [isCoursesHovered, setIsCoursesHovered] = useState(false); // State to handle hover\n\n  const mainMenu = [\n    {\n      type: 'item',\n      href: `${config.LMS_BASE_URL}`, // Homepage\n      content: intl.formatMessage(messages['header.links.home']),\n    },\n    {\n      type: 'item',\n      href: `${config.LMS_BASE_URL}/about`, // About page\n      content: intl.formatMessage(messages['header.links.about']),\n    },\n    {\n      type: 'item',\n      href: `${config.LMS_BASE_URL}/courses`,\n      content: intl.formatMessage(messages['header.links.courses']),\n      onMouseEnter: () => setIsCoursesHovered(true), // Show dropdown on hover\n      onMouseLeave: () => setIsCoursesHovered(false), // Hide dropdown when not hovering\n      dropdownItems: [\n        {\n          href: `${config.LMS_BASE_URL}/courses/for_students`,\n          content: 'لطلاب المدارس',\n        },\n        {\n          href: `${config.LMS_BASE_URL}/courses/for_employees`,\n          content: 'موظفو وأعضاء المنظمات غير الحكومية والحكومية',\n        },\n      ],\n    },\n  ];\n\n  const orderHistoryItem = {\n    type: 'item',\n    href: config.ORDER_HISTORY_URL,\n    content: intl.formatMessage(messages['header.user.menu.order.history']),\n  };\n\n  const userMenu = authenticatedUser === null ? [] : [\n    {\n      type: 'item',\n      href: `${config.LMS_BASE_URL}/dashboard`,\n      content: intl.formatMessage(messages['header.user.menu.dashboard']),\n    },\n    {\n      type: 'item',\n      href: `${config.ACCOUNT_PROFILE_URL}/u/${authenticatedUser.username}`,\n      content: intl.formatMessage(messages['header.user.menu.profile']),\n    },\n    {\n      type: 'item',\n      href: config.ACCOUNT_SETTINGS_URL,\n      content: intl.formatMessage(messages['header.user.menu.account.settings']),\n    },\n    {\n      type: 'item',\n      href: config.LOGOUT_URL,\n      content: intl.formatMessage(messages['header.user.menu.logout']),\n    },\n  ];\n\n  // Users should only see Order History if they have a ORDER_HISTORY_URL defined in the environment.\n  if (config.ORDER_HISTORY_URL) {\n    userMenu.splice(-1, 0, orderHistoryItem);\n  }\n\n  const loggedOutItems = [\n    {\n      type: 'item',\n      href: config.LOGIN_URL,\n      content: intl.formatMessage(messages['header.user.menu.login']),\n    },\n    {\n      type: 'item',\n      href: `${config.LMS_BASE_URL}/register`,\n      content: intl.formatMessage(messages['header.user.menu.register']),\n    },\n  ];\n\n  const props = {\n    logo: config.LOGO_URL,\n    logoAltText: config.SITE_NAME,\n    logoDestination: `${config.LMS_BASE_URL}/dashboard`,\n    loggedIn: authenticatedUser !== null,\n    username: authenticatedUser !== null ? authenticatedUser.username : null,\n    avatar: authenticatedUser !== null ? authenticatedUser.avatar : null,\n    mainMenu: getConfig().AUTHN_MINIMAL_HEADER ? [] : mainMenu,\n    userMenu: getConfig().AUTHN_MINIMAL_HEADER ? [] : userMenu,\n    loggedOutItems: getConfig().AUTHN_MINIMAL_HEADER ? [] : loggedOutItems,\n  };\n\n  return (\n    <>\n      <Responsive maxWidth={768}>\n        <MobileHeader {...props} />\n      </Responsive>\n      <Responsive minWidth={769}>\n        <DesktopHeader {...props} />\n        {/* Dropdown for Courses */}\n        {isCoursesHovered && (\n          <ul className=\"dropdown-menu\" onMouseLeave={() => setIsCoursesHovered(false)}>\n            <li><a href={`${config.LMS_BASE_URL}/courses/for_students`}>لطلاب المدارس</a></li>\n            <li><a href={`${config.LMS_BASE_URL}/courses/for_employees`}>موظفو وأعضاء المنظمات غير الحكومية والحكومية</a></li>\n          </ul>\n        )}\n      </Responsive>\n    </>\n  );\n};\n\nHeader.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(Header);"],"mappings":"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"}